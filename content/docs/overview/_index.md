---
weight: 1
bookFlatSection: true
---

# Overview

## We need a Judger

计算机系的学生想必对 Online Judge 都不陌生。

学生需要编写代码以解决 OJ 给出的问题，代码的评测是由 OJ 自动完成的。OJ 针对一组测试用例（黑盒测试，用户不知道测试用例的具体数据）执行用户代码，并判断用户代码是否正确；一般需要限制用户程序的运行时间、使用内存等以保证用户写出符合题目期望的代码。

负责执行用户代码的这一部分，我们就称为判题。

在我们过去几年的真实使用场景中，我们的判题机器只是一台单机虚拟机，使用的判题方法也是在真实机器上执行用户代码。这台单薄的虚拟机不仅要负责整个 OJ 的判题请求，在校内的一些程序设计考试、一些选拔的时候也都承担着判题任务。

在应付学校内的考试的时候，我们的 TPS 能达到 100 左右。。。所以每次有大型考试，负责判题的同学就得在线盯着代码提交情况，以防判题机器被打挂了。

在平时的 OJ 上，也有安全同学提交的恶意代码，我们就因为判题机器而导致整个 OJ 被提权过。

综上所述，我们需要一个专门的判题者！

## 一个愿望

想象着现在 Serverless 的概念，如果判题也能这样，那该多好。

你直接向一个判题平台提交你的代码，判题数据。判题平台会在若干时间后返回给你结果，或者放入消息队列，或者请求你的回调 URL。

## 如何实现

感谢 **容器技术** 的发展，让我们实现安全判题以及代码运行环境隔离有了一个极好的基础。

运行一个容器，就像运行一个判题程序那么简单！

<此处应有一张图片>
